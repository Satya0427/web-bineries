import{a as be}from"./chunk-B56FVN35.js";import{$b as Me,Ca as E,E as b,Fa as F,H as C,Ha as I,Hb as te,I as h,Ia as N,Ja as T,Jb as ie,Ka as m,Kb as ne,L as c,La as D,Lb as ae,M as i,Ma as U,Mb as oe,N as e,Na as k,O as r,Oa as R,Ob as re,Pa as A,Pb as le,Qa as V,Qb as me,Ra as B,Rb as se,Sa as G,Sb as de,Tb as pe,V as _,W as y,Xb as ce,Y as v,Yb as ue,Z as P,Zb as fe,_ as O,_b as ge,ac as xe,ba as t,c as u,ca as S,cb as q,db as z,fb as j,gb as Q,ha as w,hb as L,i as f,ib as $,jb as H,kb as J,lb as Y,mb as K,o as p,q as g,qb as W,r as M,rb as X,sb as Z,vb as ee,w as x,z as d}from"./chunk-L2VPQNQN.js";var he=["logoutTemplate"];function _e(l,n){if(l&1&&(i(0,"div",21)(1,"p"),t(2),e()()),l&2){let a=n.$implicit;d(2),S(a==null?null:a.message)}}var Ce=class l extends q{_fb=p(V);dialog=p(be);userForm;ud;logoutTemplate;ngOnInit(){this.userForm=this._fb.group({name:["",[m.required]],email:["",[m.required]],address:[""],password:["",[m.required]],contact_number:["",[m.required]]});let n=sessionStorage.getItem("userDetails")||"";this.ud=n?JSON.parse(n):""}canDeactivate(){return this.userForm.dirty?this.dialog.open({title:"Unsaved Changes",width:"500px",height:"300px",contentTemplate:this.logoutTemplate,data:{message:"You have unsaved changes. Do you really want to leave this page?"},actions:[{label:"Cancel",value:!1},{label:"Ok",value:!0}]}).pipe(u(n=>n||!1)):!1}createUser(){if(this.userForm.invalid){this._toastr.warning("Enter full details");return}let n=this.userForm.value,a={name:n.name,email:n.email,password:n.password,phone_number:n.contact_number,address:n.address,user_type:this.ud.user_type?this.ud.user_type:"member"};this._apiService.post(z.users.createUser,a).pipe(f(this.destroy$)).subscribe({next:o=>{this._toastr.success(o.msg),this.userForm.reset()}})}static \u0275fac=(()=>{let n;return function(o){return(n||(n=x(l)))(o||l)}})();static \u0275cmp=b({type:l,selectors:[["app-user-creation"]],viewQuery:function(a,o){if(a&1&&v(he,7),a&2){let s;P(s=O())&&(o.logoutTemplate=s.first)}},features:[C],decls:66,vars:2,consts:[["logoutTemplate",""],[1,"user-creation-wrapper"],[1,"creation-card"],[1,"card-title"],[1,"creation-form",3,"formGroup"],[1,"section-heading"],[1,"form-row","name-fields"],["appearance","outline"],["matInput","","name","firstName","formControlName","name"],["matSuffix",""],["matInput","","type","email","name","email","formControlName","email"],["matInput","","type","text","name","address","formControlName","address"],["matInput","","type","tel","name","contactNumber","formControlName","contact_number"],[1,"form-row","security-profile-fields"],["matInput","","type","password","name","password","formControlName","password"],[1,"profile-pic-upload"],["type","file","accept","image/*"],["mat-stroked-button","","color","accent","type","button"],[1,"form-actions"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"click","disabled"],["mat-button","","type","reset",1,"cancel-button"],[1,"my-template"]],template:function(a,o){if(a&1){let s=_();i(0,"div",1)(1,"mat-card",2)(2,"mat-card-header")(3,"mat-card-title",3)(4,"mat-icon"),t(5,"person_add"),e(),t(6," Create New User Account "),e(),i(7,"mat-card-subtitle"),t(8,"Fill out the details below to create a new user profile."),e()(),i(9,"mat-card-content")(10,"form",4)(11,"h3",5),t(12,"Personal Details"),e(),r(13,"mat-divider"),i(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),t(17,"Name"),e(),r(18,"input",8),i(19,"mat-icon",9),t(20,"badge"),e()(),i(21,"mat-form-field",7)(22,"mat-label"),t(23,"Email"),e(),r(24,"input",10),i(25,"mat-icon",9),t(26,"email"),e()(),i(27,"mat-form-field",7)(28,"mat-label"),t(29,"Address"),e(),r(30,"input",11),i(31,"mat-icon",9),t(32,"location_on"),e()(),i(33,"mat-form-field",7)(34,"mat-label"),t(35,"Contact Number"),e(),r(36,"input",12),i(37,"mat-icon",9),t(38,"phone"),e()()(),i(39,"h3",5),t(40,"Security & Profile"),e(),r(41,"mat-divider"),i(42,"div",13)(43,"mat-form-field",7)(44,"mat-label"),t(45,"Password"),e(),r(46,"input",14),i(47,"mat-icon",9),t(48,"vpn_key"),e()(),i(49,"div",15)(50,"label"),t(51,"Upload Profile Picture"),e(),r(52,"input",16),i(53,"button",17)(54,"mat-icon"),t(55,"cloud_upload"),e(),t(56," Choose File "),e()()(),i(57,"div",18)(58,"button",19),y("click",function(){return g(s),M(o.createUser())}),i(59,"mat-icon"),t(60,"save"),e(),t(61," CREATE USER "),e(),i(62,"button",20),t(63," Cancel "),e()()()()()(),h(64,_e,3,1,"ng-template",null,0,w)}a&2&&(d(10),c("formGroup",o.userForm),d(48),c("disabled",o.userForm.invalid))},dependencies:[Q,j,K,L,H,Y,J,$,W,N,I,E,F,Z,X,ee,te,ne,oe,ae,re,le,se,me,de,pe,ie,ce,ue,fe,ge,Me,xe,B,k,T,D,U,G,R,A],styles:[".user-creation-wrapper[_ngcontent-%COMP%]{min-height:100vh;padding:40px 20px;background-color:#f5f7fa;display:flex;justify-content:center}.creation-card[_ngcontent-%COMP%]{width:100%;max-width:900px;border-radius:12px;box-shadow:0 8px 20px #0000001a;padding:20px}.card-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:500;display:flex;align-items:center;color:#3f51b5}.card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px;font-size:32px;height:32px;width:32px}mat-card-subtitle[_ngcontent-%COMP%]{margin-top:10px;color:#6c757d}.section-heading[_ngcontent-%COMP%]{margin:30px 0 15px;padding-bottom:5px;font-size:1.2rem;color:#495057;font-weight:600}mat-divider[_ngcontent-%COMP%]{margin-bottom:25px}.form-row[_ngcontent-%COMP%]{display:grid;gap:20px;margin-bottom:20px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.name-fields[_ngcontent-%COMP%], .contact-role-fields[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.security-profile-fields[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;align-items:flex-start}.profile-pic-upload[_ngcontent-%COMP%]{padding-top:10px}.profile-pic-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:.75em;color:#0009}.profile-pic-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.profile-pic-upload[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-top:5px}.form-actions[_ngcontent-%COMP%]{margin-top:40px;display:flex;gap:15px;justify-content:flex-end}.submit-button[_ngcontent-%COMP%]{height:50px;padding:0 30px;font-weight:600}.cancel-button[_ngcontent-%COMP%]{height:50px}@media (max-width: 768px){.name-fields[_ngcontent-%COMP%], .contact-role-fields[_ngcontent-%COMP%], .security-profile-fields[_ngcontent-%COMP%]{grid-template-columns:1fr}.profile-pic-upload[_ngcontent-%COMP%]{padding-top:0}.form-actions[_ngcontent-%COMP%]{justify-content:center}}"]})};export{Ce as a};
