import{a as St}from"./chunk-XTAYNIPI.js";import{a as C}from"./chunk-CAAVUR2U.js";import"./chunk-NE5SDA4G.js";import{$ as r,$b as ht,Ab as K,Bb as Q,C as v,Cb as W,Db as X,E as D,Eb as Y,F as l,Fb as Z,Gb as tt,Ha as P,Hb as et,I as _,Ib as it,J as i,Jb as nt,K as n,Kb as at,L as g,Lb as rt,Mb as ot,Nb as st,Ob as lt,P as m,Pb as mt,Q as d,Qa as I,Rb as dt,S as y,Sb as ct,T as h,Tb as pt,U as E,Ub as ut,Vb as ft,Wb as _t,_b as gt,ac as Mt,ba as c,bb as k,bc as Ct,ca as T,cb as R,cc as xt,db as N,dc as bt,eb as F,fb as A,gb as z,i as x,ia as L,mb as B,nb as H,o as b,ob as V,pa as O,pb as $,q as S,r as w,tb as j,vb as G,w as U,yb as q,z as s,zb as J}from"./chunk-OTEOTESY.js";import"./chunk-7CGTOI24.js";var Ut=t=>({admin:t});function vt(t,e){t&1&&(i(0,"th",24),r(1," S.NO "),n())}function Dt(t,e){if(t&1&&(i(0,"td",25),r(1),n()),t&2){let a=e.index;s(),c(" ",a+1," ")}}function yt(t,e){t&1&&(i(0,"th",24),r(1," Name "),n())}function Et(t,e){if(t&1&&(i(0,"td",25),r(1),n()),t&2){let a=e.$implicit;s(),c(" ",a.name," ")}}function Tt(t,e){t&1&&(i(0,"th",24),r(1," Email "),n())}function Lt(t,e){if(t&1&&(i(0,"td",25),r(1),n()),t&2){let a=e.$implicit;s(),c(" ",a.email," ")}}function Ot(t,e){t&1&&(i(0,"th",24),r(1," Contact "),n())}function Pt(t,e){if(t&1&&(i(0,"td",25),r(1),n()),t&2){let a=e.$implicit;s(),c(" ",a.phone_number," ")}}function It(t,e){t&1&&(i(0,"th",24),r(1," Type "),n())}function kt(t,e){if(t&1&&(i(0,"td",25)(1,"span",26),r(2),n()()),t&2){let a=e.$implicit;s(),_("ngClass",T(2,Ut,a.user_type==="admin")),s(),c(" ",a.user_type," ")}}function Rt(t,e){t&1&&(i(0,"th",24),r(1," Address "),n())}function Nt(t,e){if(t&1&&(i(0,"td",25)(1,"span",27),r(2),n()()),t&2){let a=e.$implicit;s(2),c(" ",a.address," ")}}function Ft(t,e){t&1&&(i(0,"th",28),r(1," Actions "),n())}function At(t,e){if(t&1){let a=y();i(0,"td",29)(1,"button",30),h("click",function(){let p=S(a).$implicit,u=E();return w(u.onEditUser(p))}),i(2,"mat-icon"),r(3,"edit"),n()()()}}function zt(t,e){t&1&&g(0,"tr",31)}function Bt(t,e){t&1&&g(0,"tr",32)}function Ht(t,e){t&1&&(i(0,"tr",33)(1,"td",34),r(2,"No users found matching the filter."),n()())}var M=class t extends k{loader=b(St);displayedColumns=["sno","name","email","phone_number","user_type","address","actions"];dataSource=new rt;data;pagesize=10;pageIndex=1;totalRecords=0;loading=!1;ngOnInit(){this.setBreadcrumb([{label:"Configuration",link:"/home"},{label:"Employees",active:!0}]),this.getUsersList()}getUsersList(e){if(this.loading||this.totalRecords&&this.dataSource.data.length>=this.totalRecords)return;if(e!==void 0){let o=this.dataSource.data.length-10;if(e<o)return}let a={skip_records:this.dataSource.data.length};this.loading=!0,this._apiService.post(R.users.getUsersList,a).pipe(x(this.destroy$)).subscribe({next:o=>{let p=o?.data||{},u=(p.emp_data||[]).map(f=>({name:f?.name??"",email:f?.email??"",phone_number:f?.phone_number??"",address:f?.address??"",user_type:f?.user_type??""}));this.totalRecords=p?.pagination?.total_records??u.length,this.dataSource.data=[...this.dataSource.data,...u],this.loading=!1},error:()=>{this.loading=!1}})}onAddNewUser(){this._router.navigateByUrl("/home/user/user-creation")}onEditUser(e){this._router.navigate(["/home/user/user-edit",e.id])}static \u0275fac=(()=>{let e;return function(o){return(e||(e=U(t)))(o||t)}})();static \u0275cmp=v({type:t,selectors:[["app-users-list"]],features:[D],decls:42,vars:3,consts:[[1,"user-list-wrapper"],[1,"user-list-card"],[1,"header-actions"],[1,"title-group"],[1,"title-icon"],[1,"title-text"],[1,"subtitle"],["mat-raised-button","","color","primary",1,"add-user-button",3,"click"],["itemSize","40",1,"table-container","viewport",3,"scrolledIndexChange"],["mat-table","",1,"full-width-table",3,"dataSource"],["matColumnDef","sno"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","phone_number"],["matColumnDef","user_type"],["matColumnDef","address"],["matColumnDef","actions"],["mat-header-cell","","class","action-cell",4,"matHeaderCellDef"],["mat-cell","","class","action-cell",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","data-row",4,"matRowDef","matRowDefColumns"],["class","mat-row empty-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],[1,"user-type-tag",3,"ngClass"],[1,"status-chip"],["mat-header-cell","",1,"action-cell"],["mat-cell","",1,"action-cell"],["mat-icon-button","","color","accent","title","Edit User",3,"click"],["mat-header-row",""],["mat-row","",1,"data-row"],[1,"mat-row","empty-row"],["colspan","6",1,"mat-cell"]],template:function(a,o){a&1&&(i(0,"div",0)(1,"mat-card",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),r(5,"people_alt"),n(),i(6,"div",5)(7,"h2"),r(8,"User Management"),n(),i(9,"p",6),r(10,"View, edit, and onboard new users in the application."),n()()(),i(11,"button",7),h("click",function(){return o.onAddNewUser()}),i(12,"mat-icon"),r(13,"person_add"),n(),r(14," Add New User "),n()(),g(15,"mat-divider"),i(16,"cdk-virtual-scroll-viewport",8),h("scrolledIndexChange",function(u){return o.getUsersList(u)}),i(17,"table",9),m(18,10),l(19,vt,2,0,"th",11)(20,Dt,2,1,"td",12),d(),m(21,13),l(22,yt,2,0,"th",11)(23,Et,2,1,"td",12),d(),m(24,14),l(25,Tt,2,0,"th",11)(26,Lt,2,1,"td",12),d(),m(27,15),l(28,Ot,2,0,"th",11)(29,Pt,2,1,"td",12),d(),m(30,16),l(31,It,2,0,"th",11)(32,kt,3,4,"td",12),d(),m(33,17),l(34,Rt,2,0,"th",11)(35,Nt,3,1,"td",12),d(),m(36,18),l(37,Ft,2,0,"th",19)(38,At,4,0,"td",20),d(),l(39,zt,1,0,"tr",21)(40,Bt,1,0,"tr",22)(41,Ht,3,0,"tr",23),n()()()()),a&2&&(s(17),_("dataSource",o.dataSource),s(22),_("matHeaderRowDef",o.displayedColumns),s(),_("matRowDefColumns",o.displayedColumns))},dependencies:[I,O,L,A,F,N,B,z,j,P,G,q,at,J,Q,Z,W,K,tt,X,Y,et,it,nt,st,mt,lt,dt,ct,ut,pt,ft,_t,ot,gt,ht,Mt,Ct,xt,bt,$,H,V],styles:[".user-list-wrapper[_ngcontent-%COMP%]{padding:30px;background-color:#f5f7fa;min-height:100vh}.user-list-card[_ngcontent-%COMP%]{padding:30px;border-radius:12px;box-shadow:0 6px 15px #00000014}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.title-group[_ngcontent-%COMP%]{display:flex;align-items:center}.title-group[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;color:#3f51b5;margin-right:15px}.title-group[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600;color:#333}.title-group[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:5px 0 0;color:#777}.add-user-button[_ngcontent-%COMP%]{height:45px;font-weight:500;padding:0 25px}mat-divider[_ngcontent-%COMP%]{margin:20px 0}.full-width-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.mat-header-cell[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem;color:#444;text-transform:uppercase;padding:15px 8px;background-color:#fafafa}.mat-row[_ngcontent-%COMP%]{transition:background-color .2s ease;border-bottom:1px solid #eee}.mat-row[_ngcontent-%COMP%]:hover{background-color:#eef3ff}.mat-cell[_ngcontent-%COMP%]{padding:12px 8px;font-size:.9rem;color:#555}.status-chip[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:15px;font-size:.8rem;font-weight:600;text-transform:capitalize}.status-chip.active[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.status-chip.inactive[_ngcontent-%COMP%]{background-color:#ffebee;color:#d32f2f}.user-type-tag[_ngcontent-%COMP%]{font-weight:500}.user-type-tag.admin[_ngcontent-%COMP%]{color:#f57f17}.action-cell[_ngcontent-%COMP%]{text-align:center}.action-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0}"]})};var wt=(t,e,a,o)=>t&&typeof t.canDeactivate=="function"?t.canDeactivate():!1;var Te=[{path:"",redirectTo:"user-list",pathMatch:"full"},{path:"user-list",component:M,title:"User List"},{path:"user-creation",component:C,title:"User Creation",canDeactivate:[wt]},{path:"user-edit/:id",component:C,title:"User Creation"}];export{Te as USERS_ROUTES};
